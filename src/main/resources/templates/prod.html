<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
<link rel="stylesheet"
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"></link>
<title>Produkty</title>
</head>
<body>
	<div class="container">
		<div class="navbar navbar-inverse">
			 <div class="container-fluid">
				 <div class="navbar-header">
					 <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mynavbar-content">
					 <span class="icon-bar"></span>
					 <span class="icon-bar"></span>
					 <span class="icon-bar"></span>
					 </button>
					 <a class="navbar-brand" th:href="@{/}">Shop</a>
				 </div>
				 <div class="collapse navbar-collapse" id="mynavbar-content">
				 	<ul class="nav navbar-nav">
						 <li class="active"><a th:href="@{/products/add}">Dodaj produkt</a></li>
					</ul>
					<div sec:authorize="isAnonymous()">
						 <ul class="nav navbar-nav navbar-right">
							 <li><a th:href="@{/register}">Zarejestruj się</a></li>
							 <li><a th:href="@{/login}">Zaloguj się</a></li>
						 </ul>
					 </div>
					 <div sec:authorize="isAuthenticated()"> 
						 <ul class="nav navbar-nav navbar-right">
							 <li><a th:href="@{/cart}">Koszyk</a></li>
							 <li><a th:href="@{/logmeout}">logout</a></li>
						 </ul>
					 </div>
				 </div>
			</div>
		</div>

		<section>
			<div class="container">
				<div class="page-header">
					<h1>Koszyk <small></small></h1>
				</div>
			</div>
		</section>
	
<div class="container">
	<div class="row">
		<div class="col-xs-8">
			<div class="panel panel-info">
				<div class="panel-heading">
					<div class="panel-title">
						<div class="row">
							<div class="col-xs-6">
								<h5><span class="glyphicon glyphicon-shopping-cart"></span> Wszystkie produkty w Twoim koszyku</h5>
							</div>
							<div class="col-xs-6">
								<a th:href="@{/}">
								<button type="button" class="btn btn-primary btn-sm btn-block">
									<span class="glyphicon glyphicon-share-alt"></span> Continue shopping
								</button>
								</a>
							</div>
						</div>
					</div>
				</div>
				<div class="panel-body">
					<div class="row" th:each="item : ${items}">
					<span th:if="${item.amount != 0}">
						<div class="col-xs-2"><img class="img-responsive" src="http://placehold.it/100x70"></img>
						</div>
						<div class="col-xs-4">
							<h4 class="product-name"><strong th:text="${item.product.name}"></strong></h4><h4><small>Product description</small></h4>
						</div>
						<div class="col-xs-6">
							<div class="col-xs-6 text-right">
								<h6><strong th:text="${item.product.unitPrice}"> <span class="text-muted">x</span></strong></h6>
							</div>
							<div class="col-xs-4">
								<form th:action="@{/setAmount}">
									<input type="text" class="form-control input-sm"  name="amount" th:placeholder="${item.amount}"></input>
									<input type="hidden" name="id" th:value="${item.id}"></input>
								</form>
							</div>
							<div class="col-xs-2">
							
								<a th:href="@{'/deleteItem?id=' + ${item.id}}">
								<button type="button" class="btn btn-link btn-xs">
									<span class="glyphicon glyphicon-trash"> </span>
								</button>
								</a>
							</div>
						</div>
					</span>
					</div>

				</div>
				<div class="panel-footer">
					<div class="row text-center">
						<div class="col-xs-9">
							<h4 class="text-right" >Total <strong th:text="${total}"></strong></h4>
						</div>
						<div class="col-xs-3">
							<button type="button" class="btn btn-success btn-block">
								Checkout
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</div>

</body>
</html>